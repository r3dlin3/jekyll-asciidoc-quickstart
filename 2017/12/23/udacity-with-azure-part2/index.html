<!DOCTYPE html>
<html class="no-js">
  <head>
	<meta charset="utf-8">
	<title>Suivre le tutorial d&#8217;Udacity sur Kubernetes avec Azure (2e partie) | A bit of everything</title>
	<meta name="description" content="Comment suivre le tutorial d'Udacity avec une souscription Azure? (2e partie)">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- CSS -->
	<link rel="stylesheet" href="/assets/css/main.css">

	<!--Favicon-->
	<link rel="shortcut icon" href="/assets/favicon.ico" type="image/x-icon">

	<!-- Canonical -->
	<link rel="canonical" href="/2017/12/23/udacity-with-azure-part2/">

	<!-- RSS -->
	<link type="application/atom+xml" rel="alternate" href="https://r3dlin3.github.io/feed.xml" title="A bit of everything" />
	<!-- SEO -->
	<!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Suivre le tutorial d’Udacity sur Kubernetes avec Azure (2e partie) | A bit of everything</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Suivre le tutorial d’Udacity sur Kubernetes avec Azure (2e partie)" />
<meta name="author" content="r3dLiN3" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Comment suivre le tutorial d’Udacity avec une souscription Azure? (2e partie)" />
<meta property="og:description" content="Comment suivre le tutorial d’Udacity avec une souscription Azure? (2e partie)" />
<link rel="canonical" href="https://r3dlin3.github.io/2017/12/23/udacity-with-azure-part2/" />
<meta property="og:url" content="https://r3dlin3.github.io/2017/12/23/udacity-with-azure-part2/" />
<meta property="og:site_name" content="A bit of everything" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-23T00:00:00+00:00" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"r3dLiN3"},"headline":"Suivre le tutorial d’Udacity sur Kubernetes avec Azure (2e partie)","dateModified":"2017-12-23T00:00:00+00:00","datePublished":"2017-12-23T00:00:00+00:00","description":"Comment suivre le tutorial d’Udacity avec une souscription Azure? (2e partie)","mainEntityOfPage":{"@type":"WebPage","@id":"https://r3dlin3.github.io/2017/12/23/udacity-with-azure-part2/"},"@type":"BlogPosting","url":"https://r3dlin3.github.io/2017/12/23/udacity-with-azure-part2/","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

	<!-- Google Fonts -->
	
	<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:400,700,700italic,400italic" rel="stylesheet" type="text/css">
	

	<!-- KaTeX -->
	

	<!-- Google Analytics -->
	
</head>

  <body>
    <header class="site-header">
	<div class="branding">
		
		<a href="/">
			<img class="avatar" src="/assets/img/avatar.png" alt="avatar"/>
		</a>
		
		<h1 class="site-title">
			<a href="/">A bit of everything</a>
		</h1>
	</div>
	<nav class="site-nav">
		<ul>
			
			
			
			
			<li>
				<a class="page-link" href="/about/">
					A propos
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			<li>
				<a class="page-link" href="/tags/">
					tags
				</a>
			</li>
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			<!-- Social icons from Font Awesome, if enabled  -->
			
			
            
            <!-- Search bar -->
            
		</ul>
	</nav>
    
</header>

    <div class="content">
      <article >
  <header style="background-image: url('/')">
    <h1 class="title">Suivre le tutorial d&#8217;Udacity sur Kubernetes avec Azure (2e partie)</h1>
    
    <p class="meta">
      



23

décembre

2017
      
    </p>
  </header>
  <section class="post-content"><div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nous prenons ici la suite du <a href="https://eu.udacity.com/course/scalable-microservices-with-kubernetes--ud615">cours gratuit</a> d&#8217;Udacity sur Docker, les microservices et Kubernetes.
Vous pouvez trouver la première partie <a href="/2017/12/15/udacity-with-azure/">ici</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lesson_3_kubernetes"><a class="anchor" href="#lesson_3_kubernetes"></a><a class="link" href="#lesson_3_kubernetes">Lesson 3: Kubernetes</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="step_4_setting_up_kubernetes_for_this_course"><a class="anchor" href="#step_4_setting_up_kubernetes_for_this_course"></a><a class="link" href="#step_4_setting_up_kubernetes_for_this_course">Step 4: Setting up Kubernetes for this course</a></h3>
<div class="paragraph">
<p>Si l&#8217;on reprend là où on en était resté, vous devriez avoir:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Une souscription Azure</p>
</li>
<li>
<p>Un <a href="http://shell.azure.com/bash">Azure Cloud Shell</a> ouvert sous Bash</p>
</li>
<li>
<p>Un resource group <code>rg-udacity-test</code>. Pour rappel, pour en créer un :</p>
<div class="literalblock">
<div class="content">
<pre>az group create --name rg-udacity-test --location westeurope</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>A ce stade, vous pouvez instancier un Kubernetes sur AKS grâce à la commande:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>az aks create --resource-group rg-udacity-test --name myK8sCluster --node-count 1 --generate-ssh-keys
az aks get-credentials --resource-group rg-udacity-test --name myK8sCluster</pre>
</div>
</div>
<div class="paragraph">
<p>Etant sur Azure Cloud Shell, il n&#8217;est pas nécessaire d&#8217;installer kubectl.
Il est déjà présent.
Tester la commande:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>kubectl get nodes</pre>
</div>
</div>
<div class="paragraph">
<p>En exécutant la commande ci-dessous, on peut s&#8217;apercevoir que le cluster est en 1.7.7 et que la dernière version disponible est la 1.8.2:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>az aks get-versions --resource-group rg-udacity-test --name myK8sCluster -o table</pre>
</div>
</div>
<div class="paragraph">
<p>Taper la commande suivante pour automatiquement mettre à jour le cluster vers la 1.8.2:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>az aks upgrade --resource-group rg-udacity-test --name myK8sCluster -k 1.8.2</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="step_5_kubernetes_intro_demo"><a class="anchor" href="#step_5_kubernetes_intro_demo"></a><a class="link" href="#step_5_kubernetes_intro_demo">Step 5: Kubernetes Intro Demo</a></h3>
<div class="paragraph">
<p>Pas de spécificité sur les commandes. Nginx se déploie correctement.</p>
</div>
</div>
<div class="sect2">
<h3 id="step_7_creating_pods"><a class="anchor" href="#step_7_creating_pods"></a><a class="link" href="#step_7_creating_pods">Step 7: Creating Pods</a></h3>
<div class="paragraph">
<p>Editer le fichier <code>pods/monolith.yaml</code> et modifier la ligne</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image: udacity/example-monolith:1.0.0</pre>
</div>
</div>
<div class="paragraph">
<p>par</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image: &lt;acrLoginServer&gt;/example-monolith:1.0.0</pre>
</div>
</div>
<div class="paragraph">
<p>où: <code>&lt;acrLoginServer&gt;</code> est le "Login Server (cf. <a href="/2017/12/15/udacity-with-azure/">partie 1</a>).</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>vim</code> est présent sur Azure Cloud Shell
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Le reste des commande est inchangé.</p>
</div>
</div>
<div class="sect2">
<h3 id="step_8_interacting_with_pods"><a class="anchor" href="#step_8_interacting_with_pods"></a><a class="link" href="#step_8_interacting_with_pods">Step 8: Interacting With Pods</a></h3>
<div class="paragraph">
<p>Pas de spécificité. Bien penser qu&#8217;il est possible d&#8217;ouvrir plusieurs Azure Cloud Shell.</p>
</div>
</div>
<div class="sect2">
<h3 id="step_12_creating_secrets"><a class="anchor" href="#step_12_creating_secrets"></a><a class="link" href="#step_12_creating_secrets">Step 12: Creating Secrets</a></h3>
<div class="paragraph">
<p>Pas de spécificité.</p>
</div>
</div>
<div class="sect2">
<h3 id="step_13_accessing_a_secure_https_endpoint"><a class="anchor" href="#step_13_accessing_a_secure_https_endpoint"></a><a class="link" href="#step_13_accessing_a_secure_https_endpoint">Step 13: Accessing A Secure HTTPS Endpoint</a></h3>
<div class="paragraph">
<p>Editer le fichier <code>pods/secure-monolith.yaml</code> et modifier la ligne</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image: udacity/example-monolith:1.0.0</pre>
</div>
</div>
<div class="paragraph">
<p>par</p>
</div>
<div class="literalblock">
<div class="content">
<pre>image: &lt;acrLoginServer&gt;/example-monolith:1.0.0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lesson_4_deploying_microservices"><a class="anchor" href="#lesson_4_deploying_microservices"></a><a class="link" href="#lesson_4_deploying_microservices">Lesson 4: Deploying Microservices</a></h2>
<div class="sectionbody">

</div>
</div></section>
  
<footer>
  <div class="tags">
    
    <a class="tag" href="/tags#kubernetes">#kubernetes</a>
    
    <a class="tag" href="/tags#azure">#azure</a>
    
    <a class="tag" href="/tags#aks">#aks</a>
    
    <a class="tag" href="/tags#docker">#docker</a>
    
    <a class="tag" href="/tags#microservices">#microservices</a>
    
  </div>
</footer>


</article>

<!-- Disqus -->


<!-- Post navigation -->

  <div id="post-nav">
  
  <div id="previous-post" class="post-nav-post">
      <p>Article précédent</p>
      <a href="/2017/12/15/udacity-with-azure/">
        Suivre le tutorial d&#8217;Udacity sur Kubernetes avec Azure (1ère partie)
      </a>
  </div>
  
  
  <div id="next-post" class="post-nav-post">
      <p>Article suivant</p>
      <a href="/2018/04/30/github-pages-jekyll-travisci/">
        Faire un blog avec Jekyll, GitHub Pages et TravisCI
      </a>
  </div>
  
</div>



    </div>
    


<footer class="site-footer">
	<nav class="site-nav">
		<ul>
			
<li>
	<a href="/feed.xml" title="Suivre sur RSS">
		<i class="fa fa-fw fa-rss"></i>
	</a>
</li>















<li>
	<a href="https://github.com/r3dlin3" title="Follow on GitHub">
		<i class="fa fa-fw fa-github"></i>
	</a>
</li>




























		</ul>
	</nav>
	<p class="text">Powered by <a href="https://jekyllrb.com/">Jekyll</a> with <i class="fa fa-heart" aria-hidden="true" style="color:Tomato"></i>
</p>
</footer>

  </body>
</html>
